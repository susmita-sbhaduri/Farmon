<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="jakarta.faces.facelets"
                template="./../WEB-INF/template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="jakarta.faces.core"
                xmlns:h="jakarta.faces.html">

    <ui:define name="transaction">
        Transaction
    </ui:define>

    <ui:define name="content">
        <!--        <div class="grid">
                    <div class="col-12">-->
        <h4>Enter the Transaction Details.</h4>
        <p:button outcome="/landing" value="Home" id="h_buttonid" icon="pi pi-home"/>
        <div class="card">
            <h:form> 
                <!--<h4>Date</h4>-->   

                <div class="ui-fluid formgrid grid">
                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="transdate" value="Select Date" />  
                        <!--<p:calendar id="transdate" value="#{transactionProcess.transdate}" mode="popup" />-->     
                        <p:datePicker id="transdate" value="#{transactionProcess.transdate}" pattern="dd/MM/yyyy" /> 
                    </div>
                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="transtype" value="Transaction Type" />                      

                        <p:selectOneMenu id="transtype" value="#{transactionProcess.transtype}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItem itemLabel="CapX" itemValue="capx"/>
                            <f:selectItem itemLabel="OpX" itemValue="opx"/>
                        <p:ajax event="change" listener="#{transactionProcess.onTransTypeChange}" 
                                update="cropcategory, cropname" />    
                        </p:selectOneMenu>
                        
                        <p:selectOneMenu id="cropcategory" value="#{transactionProcess.cropcategory}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{transactionProcess.cropcategories}" 
                            var="cropcat" itemLabel="#{cropcat}" itemValue="#{cropcat}" />
                        </p:selectOneMenu>

                        <p:selectOneMenu id="cropname" value="#{transactionProcess.cropname}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{transactionProcess.cropnames}" 
                            var="crop" itemLabel="#{crop}" itemValue="#{crop}" />
                        </p:selectOneMenu>
                    </div>
<!--                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="expenseCategory" value="Expense Category" />                      

                        <p:selectOneMenu id="expenseCategory" value="#{transactionProcess.expenseCategory}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{transactionProcess.expenseCategories}" 
                                           var="category" itemLabel="#{category}" itemValue="#{category}"/>

                        </p:selectOneMenu>
                    </div>-->
                </div>    
                <!--<h:button outcome="/landing" value="Home" id="h_buttonid" icon="pi pi-home"/>-->
                <p:commandButton value="Submit" action="#{transactionProcess.process()}" />
            </h:form>
        </div>            
    </ui:define>



</ui:composition>
